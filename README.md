# プロジェクト名
　松尾研LLM2025コンペで、LLMモデルを学習させるためのデータセットを作成
本コンペではHLE(Humanity Last Exam)という超難問の解答精度の向上を競う。
HLEの問題のうち40%は数学の難問であり数学の解答精度向上が鍵である。
既存の数学データセットAIMEをベースに合成データ作成手法により問題の難化を図る。<br>
　すなわち、既存の数学問題を「解析」「代数」などの分野に分類し、
 それらを掛け合わせる形で問題を拡張する。例えば、解析の問題に代数的要素を追加する、
 確率の問題に幾何的要素を加える、といった具合である。この場合、最終的な答えは
 元の問題と変えずに、解法過程を複雑化させることでモデルにより高度な推論を要求する
 問題を生成することを目指す。

## プログラム及びデータ概要
AIME_Synthesis.py: 11分野各問x11分野<br>
AIME_Judge.py: 元の問題と新問題の整合性確認<br>
AIME_ExtractQ.py: NewQからQuestionを抽出<br>
AIME_ExtractSA.py: <Question>から解法と解答を得る<br>
AIME_dataset.7z: 既存数学データセットAIME<br>

## 入力データセット
AIMEの1983年から2023年(+2024年Part2 まで)を網羅した約933問から選択<br>
https://huggingface.co/datasets/di-zhang-fdu/AIME_1983_2024<br>
圧縮ファイルAIME_dataset.7zに含まれるファイル<br>
----------------------------------------------<br>
AIME_1983_2024_Qp01.csv: 解析、10問<br>
AIME_1983_2024_Qp02.csv: 確率、10問<br>
AIME_1983_2024_Qp03.csv: 幾何、10問<br>
AIME_1983_2024_Qp04.csv: 集合、10問<br>
AIME_1983_2024_Qp05.csv: 数列、10問<br>
AIME_1983_2024_Qp06.csv: 組合せ、10問<br>
AIME_1983_2024_Qp07.csv: 代数、10問<br>
AIME_1983_2024_Qp08.csv: 複素数、10問<br>
AIME_1983_2024_Qp09.csv: 離散数学、9問<br>
AIME_1983_2024_Qp10.csv: 数論、10問<br>
AIME_1983_2024_Qp11.csv: 三角関数/その他(対数等)、9問<br>
----------------------------------------------<br>

## 動作環境
- Windows / Python(Anaconda等) / OpenAI-APIなど

## 基本的な使い方
(1)難化数学問題の作成<br>
-プログラムとデータファイルを同一フォルダに格納<br>
-AIME_Synthesis.py実行<br>
-難化問題”NewQ”とカテゴリ”NewC”列が出力ファイルに追加される<br>
　※”NewQ”には以下が含まれる<br>
　-"NewProblemStatement"<br>
  -"DescriptionOfModifications"<br>
  -"StepByStepSolution"<br>
  -"FinalAnswer_extracted"<br>

(2)作成された難化問題の整合性確認<br>
・上記(1)で作成された難化問題ファイルをプログラムに設定<br>
・AIME_Judge.py実行<br>
・ベースの既存問題に対し作成問題が解答を変えずに難化されているか確認<br>
・確認結果”JudgeQ”と判定結果”Jresult”列が出力ファイルに追加される<br>
　※”Jresult”の判定出力は、'Pass' or 'NG'<br>

(3)難化問題抽出<br>
・上記(2)の判定結果が'Pass'の問題のみを人力で抽出
・AIME_ExtractQ.py実行<br>

## 作成される問題例
(確率)x(複素数)の例<br>
<元の問題><br>
円卓に25人の騎士が座っています。この中から3人を選びます。<br>
このとき、選ばれた3人のうち少なくとも2人が隣り合っている確率 \( P \) を求めます。<br>
そして、\( P \) を既約分数で表したとき、その分子と分母の和を求めます。<br>
<難化問題><br>
方程式 \(|z| = 1\) で定義されるアルガン平面上の円を考えます。ここで、\(z\) は、<br>
複素数 \(z_k = e^{2\pi i k / 25}\) (\(k=0,1,\ldots,24\) で示される<br>
\(25\) 乗根の位置にあるナイトを表します。3 人のナイトをランダムに選択し、<br>
少なくとも 2人が隣接するように除去します。これらの選ばれたナイト (複素数) が、<br>
任意のペアの偏角の和が残りのナイトの偏角の和と等しくない円弧を形成する<br>
確率 \(P\) を求めます。\(P\) を最も単純な形で分数で表すと、<br>
分子と分母の和はいくらになりますか。<br>
<解答><br>
57<br>
<難化の度合い><br>
元の問題は、組合せを扱う典型的な「円環配置＋隣接条件」の問題でシンプルである。<br>
難化問題では、同じ本質的な組合せ問題を「25乗根」「アルガン平面」「偏角の和」といった<br>
複素数的な背景に置き換える。このため、解答に必要な本質的計算量は同じですが、<br>
•	問題の定義を複素数の言葉に読み替える必要<br>
•	複素数の和や弧に関する条件から隣接条件に帰着することを見抜くステップ<br>
が追加されている分、解法ステップは確実に増え難易度は上がる。<br>

## 出力ファイルと保存先

## ファイルサイズ


